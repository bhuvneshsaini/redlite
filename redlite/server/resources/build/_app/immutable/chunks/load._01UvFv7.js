import{r as j,i as b,E as ee,h as ce,j as H,l as X,k as K,m as P,n as ue,o as x,q as ie,v as fe,w as U,x as ve,y as he,z as _e,A as we,f as Q}from"./runtime.XrRUaxpN.js";import{A as pe,B as g,C as ne,S as Z,D as le,E as B,F as te,G as ae,H as q,I as de,J as Ee,K as y}from"./disclose-version.lMLKR1jJ.js";const J=-1,G=99999999,re=-2;function Ae(){}function oe(e,r,n,l,s,u,_){const d=(n&x)!==0,a=ie(n,e);let w=null;pe(e,d);let $,h=null,i=null;a.r=t=>{const f=w,o=f.s;o.add(t),t.f(()=>{o.delete(t),o.size===0&&f.e!==null&&(f.d!==null&&(g(f.d),f.d=null),H(f.e),f.e=null)})};const v=()=>{const t={d:null,e:null,s:new Set,p:w},f=j(()=>{const o=a.d;o!==null&&(g(o),a.d=null);let p=a.a;(a.f&x)!==0&&(p=de(),a.a.appendChild(p)),u(p),t.d=a.d,a.d=null},a,!0);t.e=f,w=t},c=t=>{const f=t.f,o=(f&x)!==0,p=t.a;_($,t,p,o,s,f,!0,h)},E=j(()=>{const t=r();$=b(t)?t:t==null?[]:Array.from(t),l!==null?h=$.map(l):n&ee||$.map(Ae);const f=$.length;if(u!==null){if(f===0){if(a.v.length!==0||i===null){c(a),v();return}}else if(a.v.length===0&&w!==null){const o=w,p=o.s;p.size===0?o.d!==null&&(g(o.d),o.d=null):ne(p,"out")}}i!==null&&fe(i)},a,!1);i=j(c,a,!0),ce(E,()=>{const t=a.f,f=a.a,o=(t&x)!==0;let p=w;for(;p!==null;){const D=p.d;D!==null&&g(D);const S=p.e;S!==null&&H(S),p=p.p}_([],a,f,o,s,t,!1,h),H(i)}),a.e=E}function Le(e,r,n,l,s,u){oe(e,r,n,l,s,u,De)}function ge(e,r,n,l,s){oe(e,r,n,null,l,s,$e)}function $e(e,r,n,l,s,u,_){var d=Z in e&&e[Z].i,a=r.v,w=r.s;d&&(u&=~K);var $=a.length,h=e.length,i=Math.max($,h),v=0,c,E;if(w.length!==0&&se(w),h===0)for(c=[],l&&$!==0&&le(n);v<i;)E=a[v++],I(E,w,_,l);else{var t;if(c=Array(h),B!==null)for(var f=B[0];v<i;v++){t=d?X(e,v):e[v];var o=te(f);ae(o),f=o.at(-1).nextSibling.nextSibling,E=C(t,null,v,s,u),c[v]=E}else for(;v<i;v++)v>=$?(t=d?X(e,v):e[v],E=C(t,null,v,s,u),c[v]=E,z(E,n,l,null)):v>=h?(E=a[v],I(E,w,_)):(t=e[v],E=a[v],c[v]=E,M(E,t,v,u))}r.v=c}function De(e,r,n,l,s,u,_,d){var a=r.v;const w=d!==null;var $=r.s,h=a.length,i=e.length,v,c;if($.length!==0&&se($),i===0)for(v=[],l&&h!==0&&le(n);h>0;)c=a[--h],I(c,$,_,l);else{var E=h-1,t=i-1,f,o,p;if(v=Array(i),B!==null)for(var D,S=B[0];i>0;)p=t- --i,o=e[p],f=w?d[p]:o,D=te(S),ae(D),S=(D.at(-1)||S).nextSibling.nextSibling,c=C(o,f,p,s,u),v[p]=c;else if(h===0)for(;i>0;)p=t- --i,o=e[p],f=w?d[p]:o,c=C(o,f,p,s,u),v[p]=c,z(c,n,l,null);else{var N=(u&he)!==0,F=(u&(K|U))!==0||N,A=0,m=null;o=e[t],f=w?d[t]:o;e:for(;;){for(;a[E].k===f;){if(c=a[E--],o=e[t],F&&M(c,o,t,u),m=k(c),v[t]=c,A>--t||A>E)break e;f=w?d[t]:o}for(o=e[A],f=w?d[A]:o;A<=E&&A<=t&&a[A].k===f;)o=e[A],c=a[A],F&&M(c,o,A,u),v[A]=c,++A,f=w?d[A]:e[A];break}if(A>E)for(;t>=A;)o=e[t],f=w?d[t]:o,c=C(o,f,t,s,u),v[t--]=c,m=z(c,n,l,m);else if(A>t){i=A;do(c=a[i++])!==null&&I(c,$,_);while(i<=E)}else{var O=0,L=t-A+1,T=new Int32Array(L),R=new Map;for(i=0;i<L;++i)h=i+A,T[i]=J,o=e[h],f=w?d[h]:o,Ee(R,f,h);if(N)for(i=A;i<=E;++i)h=y(R,a[i].k),h!==void 0&&(o=e[h],c=a[i],M(c,o,h,u));for(i=A;i<=E;++i)h=y(R,a[i].k),c=a[i],h!==void 0?(O=O<h?h:G,T[h-A]=i,v[h]=c):c!==null&&I(c,$,_);O===G&&Se(T);for(var V,W,Y;L-- >0;)t=L+A,h=T[L],Y=h===-1,o=e[t],Y?(f=w?d[t]:o,c=C(o,f,t,s,u)):(c=v[t],!N&&F&&M(c,o,t,u)),(Y||O===G&&h!==re)&&(W=V===void 0?m:k(V),m=z(c,n,l,W)),v[t]=c,V=c}}}r.v=v}function Se(e){for(var r=e.length,n=new Int32Array(r),l=new Int32Array(r),s=0,u=0,_,d,a,w;e[u]===J;++u);for(l[0]=u++;u<r;++u)if(d=e[u],d!==J)if(_=l[s],e[_]<d)n[u]=_,l[++s]=u;else{for(a=0,w=s;a<w;)_=a+w>>1,e[l[_]]<d?a=_+1:w=_;d<e[l[a]]&&(a>0&&(n[u]=l[a-1]),l[a]=u)}for(_=l[s];s-->=0;)e[_]=re,_=n[_]}function z(e,r,n,l){var s=e.d;return l===null?n?q(s,r,null):q(s,r.parentNode,r):q(s,null,l)}function k(e){var r=e.d;return b(r)?r[0]:r}function se(e){var r=e.length;if(r>0){for(var n=0,l,s;n<r;n++)l=e[n],s=l.r,s!==null&&(l.r=null,I(l,null,!1));e.length=0}}function M(e,r,n,l){l&K?P(e.v,r):ue(e.v)&&(e.v.o[e.v.p]=r);const s=e.s,u=(l&U)!==0,_=e.a;s!==null&&l&ee&&_!==null&&_(e,s),u?P(e.i,n):e.i=n}function I(e,r,n,l=!1){const s=e.s;if(n&&s!==null){for(let _ of s)_.r==="key"&&s.delete(_);if(s.size===0)e.s=null;else{ne(s,"out"),r!==null&&r.push(e);return}}const u=e.d;!l&&u!==null&&g(u),H(e.e)}function C(e,r,n,l,s){const _=(s&K)===0?e:s&_e?Q(e):we(e),d=s&U?Q(n):n,a=ve(_,d,r),w=j($=>{l(null,$.v,$.i)},a,!0);return a.e=w,a}function Me(e){const r=new Date(e);return`${r.toLocaleDateString()} ${r.toLocaleTimeString()}`}function Oe({mean:e,count:r,min:n,max:l}){return`${e.toFixed(3)} (#${r}, ${n.toFixed(3)}-${l.toFixed(3)})`}async function Te(e){return await(await fetch(`/api/runs/${e}/meta`)).json()}async function xe(e){return await(await fetch(`/api/runs/${e}/data`)).json()}async function Ce(){return await(await fetch("/api/runs")).json()}async function je(){const e={};for(const n of await Ce()){const l=n.data_digest;e[`${l} ${n.metric} ${n.model}`]===void 0&&(e[`${l} ${n.metric} ${n.model}`]={data_digest:l,dataset:n.dataset,metric:n.metric,model:n.model,runs:[]}),e[`${l} ${n.metric} ${n.model}`].runs.push(n)}for(const n of Object.values(e))n.runs.sort((l,s)=>new Date(s.completed)-new Date(l.completed)),n.completed=n.runs[0].completed,n.score_summary=n.runs[0].score_summary;const r=[...Object.values(e)];return r.sort((n,l)=>new Date(l.completed)-new Date(n.completed)),r}export{Me as a,je as b,ge as c,Te as d,Le as e,Oe as f,xe as g,Ce as l};
